{"version":3,"sources":["context/auth-context.js","components/login/login.js","components/layout/AppBar.js","components/layout/CopyRight.js","components/layout/Layout.js","validations/user-validation.js","sounds/notification-sound.wav","components/create-user/CreateUser.js","components/dashboard/Popup.js","components/dashboard/DataTableActionMenu.js","components/dashboard/DataTable.js","components/dashboard/dashboard.js","components/video-chat/CreateRoom.js","components/video-chat/Room.js","App.js","reportWebVitals.js","index.js"],"names":["AuthContext","createContext","AuthProvider","props","useState","loggedIn","setLoggedIn","setUser","history","useHistory","useEffect","user","localStorage","getItem","JSON","parse","authContextValue","login","push","logout","removeItem","getCurrentUser","Provider","value","useAuth","React","useContext","Login","user_name","setUserName","password","setPassword","msg","setMsg","handleKeyPress","e","charCode","handleSignIn","payLoad","axios","post","process","then","response","data","success","setItem","stringify","message","catch","err","Box","sx","mt","mb","Stack","spacing","direction","Typography","variant","align","TextField","label","onChange","val","target","onKeyPress","type","Alert","severity","Button","onClick","color","drawerWidth","Main","styled","shouldForwardProp","prop","theme","open","flexGrow","padding","transition","transitions","create","easing","sharp","duration","leavingScreen","marginLeft","easeOut","enteringScreen","AppBar","MuiAppBar","width","DrawerHeader","display","alignItems","mixins","toolbar","justifyContent","SideDrawer","useTheme","setOpen","profileInfo","setProfileInfo","anchorEl","setAnchorEl","openMenu","Boolean","role","handleMenuClick","CssBaseline","position","Toolbar","IconButton","edge","mr","noWrap","component","id","undefined","event","currentTarget","Chip","className","bgcolor","deepOrange","grey","onClose","MenuListProps","MenuItem","Drawer","flexShrink","boxSizing","anchor","Tooltip","title","Avatar","substring","Divider","List","ListItem","button","ListItemIcon","to","style","textDecoration","Copyright","Link","href","Date","getFullYear","Layout","children","flexDirection","minHeight","Container","maxWidth","py","px","backgroundColor","palette","mode","userValidationSchema","yup","shape","username","required","min","max","CreateUser","setRole","setMessage","reqStatus","setReqStatus","formik","useFormik","initialValues","onSubmit","values","createUser","validationSchema","Audio","notiSound","play","a","currentUser","token","config","headers","Authorization","error","resetForm","handleSubmit","name","handleChange","touched","errors","helperText","onBlur","handleBlur","autoComplete","FormControl","FormLabel","RadioGroup","FormControlLabel","control","Radio","top","left","transform","border","boxShadow","p","Popup","txtNote","setTxtNote","handleClose","m","noValidate","Modal","gutterBottom","multiline","rows","DataTableActionMenu","userId","activeStatus","onSuspend","handleSuspend","DataTable","results","loginUserRole","getRecDate","recDateTime","moment","require","date","toDate","format","getMonth","getDate","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","map","obj","index","Status","red","scope","UserName","Active","orange","RecDate","Note","alert","Badge","badgeContent","UserId","Dashboard","dataList","setDataList","openModal","setOpenModal","getData","params","get","toString","active","patch","submit","status","note","closeModal","CreateRoom","uuid","window","div","StyledVideo","video","Video","ref","useRef","peer","on","stream","current","srcObject","playsInline","autoPlay","videoConstraints","height","innerHeight","innerWidth","Room","peers","setPeers","socketRef","userVideo","peersRef","roomID","match","io","connect","navigator","mediaDevices","getUserMedia","audio","emit","users","forEach","userID","userToSignal","callerID","Peer","initiator","trickle","signal","createPeer","peerID","payload","incomingSignal","addPeer","peerObj","find","destory","filter","confirm","close","muted","App","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6b4bdaf.chunk.js","sourcesContent":["import React, { useEffect, useState, createContext } from \"react\";\r\nimport { Redirect, useHistory } from \"react-router\";\r\n\r\nconst AuthContext = createContext({});\r\n\r\nconst AuthProvider = props => {\r\n\r\n    const [loggedIn,setLoggedIn] = useState(false);\r\n    const [user,setUser] = useState({});\r\n    const history = useHistory();\r\n\r\n    useEffect(()=>{\r\n        let user = localStorage.getItem('user')\r\n        if(user){\r\n            setUser(JSON.parse(user));\r\n            setLoggedIn(true);\r\n        }\r\n    },[])\r\n\r\n    const login = () => {\r\n        setLoggedIn(true);\r\n        history.push(\"/dashboard\");\r\n    }\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem('user');\r\n        setLoggedIn(false);\r\n        history.push(\"/\");\r\n    }\r\n\r\n    const getCurrentUser = () => {\r\n        let user = localStorage.getItem('user')\r\n        return JSON.parse(user);\r\n        \r\n    }\r\n    \r\n    const authContextValue = {\r\n        login,\r\n        loggedIn,\r\n        logout,\r\n        getCurrentUser\r\n    };\r\n    \r\n    return <AuthContext.Provider value={authContextValue} {...props} />\r\n};\r\n\r\nconst useAuth = () => React.useContext(AuthContext);\r\n\r\nexport { AuthProvider, useAuth }\r\n","\r\nimport React, { useState } from 'react';\r\nimport axios from \"axios\";\r\nimport { TextField, Button, Stack, Typography, Alert, Box } from \"@mui/material\";\r\nimport { useHistory, Redirect } from 'react-router-dom';\r\n\r\nimport { useAuth } from '../../context/auth-context';\r\n\r\n\r\n\r\nconst Login = () => {\r\n\r\n    const {loggedIn, login} = useAuth();\r\n    const history = useHistory();\r\n    const [user_name, setUserName] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [user, setUser] = useState();\r\n    const [msg, setMsg] = useState(\"\");\r\n\r\n    \r\n    if(loggedIn){\r\n        history.push(\"/dashboard\");\r\n    }\r\n\r\n    function handleUserNameChange(val) {\r\n        setUserName(val.target.value)\r\n    }\r\n\r\n    function handlePasswordChange(val) {\r\n        setPassword(val.target.value);\r\n    }\r\n\r\n    function handleKeyPress(e) {\r\n        if (e.charCode === 13) {\r\n            handleSignIn();\r\n        }\r\n    }\r\n\r\n    const handleSignIn = () => {\r\n        const payLoad = { user_name, password };\r\n        \r\n        \r\n        try {\r\n            axios.post(`${process.env.REACT_APP_API_HOST}/users/login`, payLoad).then((response) => {\r\n                if (response.data.success > 0) {\r\n                    setUser(response.data);\r\n                    localStorage.setItem('user', JSON.stringify(response.data));\r\n                    login();\r\n                }\r\n                else{\r\n                    setMsg(response.data.message);\r\n                }\r\n                \r\n                \r\n            })\r\n            .catch((err) => {\r\n                setMsg(err.message);\r\n            });\r\n        }\r\n        catch (err) {\r\n            setMsg(err.message);\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    return (\r\n        <Box  sx={{ mt: 10, mb: 2 }}>\r\n        <Stack spacing={2} direction=\"column\">\r\n            <Typography variant=\"h5\" align=\"center\">\r\n                Sign In\r\n            </Typography>\r\n            <TextField label=\"user name\" variant=\"outlined\"\r\n                onChange={handleUserNameChange} onKeyPress={handleKeyPress}></TextField>\r\n            <TextField label=\"password\" type=\"password\" variant=\"outlined\"\r\n                onChange={handlePasswordChange} onKeyPress={handleKeyPress}></TextField>\r\n\r\n            {msg != \"\" && <Alert severity=\"error\">{msg}</Alert>}\r\n            <br />\r\n            <Button onClick={handleSignIn} variant=\"contained\" color=\"primary\">Sign In</Button>\r\n\r\n        </Stack> \r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n","import * as React from 'react';\r\n\r\nimport { useContext, useEffect, useState } from 'react';\r\nimport { styled, useTheme } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\nimport Drawer from '@mui/material/Drawer';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport MuiAppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\nimport List from '@mui/material/List';\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport ChevronRightIcon from '@mui/icons-material/ChevronRight';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport InboxIcon from '@mui/icons-material/MoveToInbox';\r\nimport MailIcon from '@mui/icons-material/Mail';\r\nimport Button from '@mui/material/Button';\r\nimport HomeIcon from '@mui/icons-material/Home';\r\nimport PersonAddIcon from '@mui/icons-material/PersonAdd';\r\nimport MessageIcon from '@mui/icons-material/MessageRounded';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport { deepOrange, deepPurple, grey } from '@mui/material/colors';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { useHistory } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\nimport { Chip, Stack, Switch } from '@mui/material';\r\nimport { useAuth } from '../../context/auth-context';\r\nimport Tooltip, { tooltipClasses } from '@mui/material/Tooltip';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst Main = styled('main', { shouldForwardProp: (prop) => prop !== 'open' })(\r\n  ({ theme, open }) => ({\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create('margin', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: `-${drawerWidth}px`,\r\n    ...(open && {\r\n      transition: theme.transitions.create('margin', {\r\n        easing: theme.transitions.easing.easeOut,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n      marginLeft: 0,\r\n    }),\r\n  }),\r\n);\r\n\r\nconst AppBar = styled(MuiAppBar, {\r\n  shouldForwardProp: (prop) => prop !== 'open',\r\n})(({ theme, open }) => ({\r\n  transition: theme.transitions.create(['margin', 'width'], {\r\n    easing: theme.transitions.easing.sharp,\r\n    duration: theme.transitions.duration.leavingScreen,\r\n  }),\r\n  ...(open && {\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    marginLeft: `${drawerWidth}px`,\r\n    transition: theme.transitions.create(['margin', 'width'], {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  }),\r\n}));\r\n\r\nconst DrawerHeader = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(0, 1),\r\n  // necessary for content to be below app bar\r\n  ...theme.mixins.toolbar,\r\n  justifyContent: 'flex-end',\r\n}));\r\n\r\nexport default function SideDrawer() {\r\n  const theme = useTheme();\r\n  const [open, setOpen] = React.useState(false);\r\n  const history = useHistory();\r\n  const { logout, loggedIn, getCurrentUser } = useAuth();\r\n  const [profileInfo, setProfileInfo] = useState();\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n\r\n  const openMenu = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let user = getCurrentUser();\r\n    if (user) {\r\n      setProfileInfo(`${user.data.user_name} (${user.data.role < 2 ? \"Admin\" : \"User\"})`);\r\n    }\r\n  }, [])\r\n\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  function logoutClickHandler() {\r\n    logout();\r\n  }\r\n\r\n  function handleMenuClick() {\r\n    setOpen(false);\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex' }}>\r\n      <CssBaseline />\r\n      <AppBar position=\"fixed\" open={open}>\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            sx={{ mr: 2, ...(open && { display: 'none' }) }}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" noWrap sx={{ flexGrow: 1 }} component=\"div\">\r\n            Workout Everyday\r\n          </Typography>\r\n          <div>\r\n            <IconButton\r\n              id=\"basic-button\"\r\n              aria-controls=\"basic-menu\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded={openMenu ? 'true' : undefined}\r\n              onClick={handleClick}\r\n            >\r\n              <Chip className=\"avatarHover\" label={getCurrentUser().data?.user_name}\r\n                sx={{ bgcolor: deepOrange[400], color: grey[100] }}>\r\n              </Chip>\r\n            </IconButton>\r\n            <Menu\r\n              id=\"basic-menu\"\r\n              anchorEl={anchorEl}\r\n              open={openMenu}\r\n              onClose={handleClose}\r\n              MenuListProps={{\r\n                'aria-labelledby': 'basic-button',\r\n              }}\r\n            >\r\n\r\n              <MenuItem onClick={() => { logout() }}>Log out</MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        sx={{\r\n          width: drawerWidth,\r\n          flexShrink: 0,\r\n          '& .MuiDrawer-paper': {\r\n            width: drawerWidth,\r\n            boxSizing: 'border-box',\r\n          },\r\n        }}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n      >\r\n        <DrawerHeader>\r\n          <Tooltip title={profileInfo}>\r\n            <Avatar className=\"avatarHover\"\r\n              sx={{ bgcolor: deepOrange[500] }}>{getCurrentUser().data?.user_name.substring(0, 2)}\r\n            </Avatar>\r\n          </Tooltip>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n\r\n        </DrawerHeader>\r\n        <Divider />\r\n        <List>\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <HomeIcon />\r\n            </ListItemIcon>\r\n            <Link to=\"/dashboard\" style={{ textDecoration: 'none' }} \r\n            onClick={handleMenuClick}>Dashboard</Link>\r\n\r\n          </ListItem>\r\n          {getCurrentUser().data.role < 2 &&\r\n            <ListItem button>\r\n\r\n              <ListItemIcon>\r\n                <PersonAddIcon />\r\n              </ListItemIcon>\r\n              <Link to=\"/create\" style={{ textDecoration: 'none' }} \r\n              onClick={handleMenuClick}>Create Account</Link>\r\n\r\n            </ListItem>}\r\n\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <MessageIcon />\r\n            </ListItemIcon>\r\n            <Link to=\"/chat\" style={{ textDecoration: 'none' }} \r\n              onClick={handleMenuClick}>Chat Room</Link>\r\n\r\n          </ListItem>\r\n        </List>\r\n\r\n        <Divider />\r\n        <List>\r\n\r\n          <ListItem button>\r\n            <ListItemIcon>\r\n              <LogoutIcon />\r\n            </ListItemIcon>\r\n            <Button onClick={() => { logout() }}>Log Out</Button>\r\n          </ListItem>\r\n\r\n        </List>\r\n\r\n      </Drawer>\r\n      <Main open={open}>\r\n        <DrawerHeader />\r\n\r\n      </Main>\r\n    </Box>\r\n  );\r\n}\r\n","import * as React from 'react';\r\nimport Typography from '@mui/material/Typography';\r\nimport Link from '@mui/material/Link';\r\n\r\n\r\nexport default function Copyright() {\r\n    return (\r\n        \r\n        <Typography variant=\"body2\" color=\"text.secondary\">\r\n            {'Copyright Â© '}\r\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n                Workout Everyday\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n        \r\n    );\r\n}","import React from 'react'\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport Container from '@mui/material/Container';\r\nimport Box from '@mui/material/Box';\r\nimport Typography from '@mui/material/Typography';\r\nimport Copyright from './CopyRight';\r\n\r\nexport default function Layout({children}) {\r\n    return (\r\n\r\n          \r\n        <Box\r\n          sx={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            minHeight: '100vh',\r\n          }}>\r\n\r\n          <Container component=\"main\" maxWidth=\"sm\">\r\n            {children}\r\n          </Container>\r\n          <Box\r\n            component=\"footer\"\r\n            sx={{\r\n              py: 3,\r\n              px: 2,\r\n              mt: 'auto',\r\n              backgroundColor: (theme) =>\r\n                theme.palette.mode === 'light'\r\n                  ? theme.palette.grey[200]\r\n                  : theme.palette.grey[800],\r\n            }}\r\n          >\r\n            <Container maxWidth=\"sm\">\r\n                <Typography variant=\"body1\">\r\n                  \r\n                </Typography>\r\n              <Copyright />\r\n            </Container>\r\n          </Box>\r\n        </Box> \r\n      );\r\n}\r\n","import * as yup from 'yup';\r\n\r\nexport const userValidationSchema = yup.object().shape({\r\n    username:yup.string().required(\"User name is required!\"),\r\n    password:yup.string().min(5).max(20).required(\"Password is required!\")\r\n\r\n});\r\n\r\n","export default __webpack_public_path__ + \"static/media/notification-sound.5b9ecb19.wav\";","import React, { useEffect, useState } from 'react';\r\nimport axios from \"axios\";\r\nimport { TextField, Button, Stack, Typography, Alert } from \"@mui/material\";\r\nimport { Redirect, useHistory } from \"react-router-dom\";\r\n\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { useAuth } from '../../context/auth-context';\r\nimport { userValidationSchema } from '../../validations/user-validation';\r\nimport notiSound from '../../sounds/notification-sound.wav';\r\n\r\nexport default function CreateUser() {\r\n\r\n\r\n    const history = useHistory();\r\n    const { loggedIn,getCurrentUser } = useAuth();\r\n\r\n    if (!loggedIn || getCurrentUser().data.role > 1) {\r\n        history.push(\"/\");\r\n    }\r\n\r\n\r\n    const [role, setRole] = useState(\"2\");\r\n    const [msg, setMessage] = useState(\"\");\r\n    const [reqStatus, setReqStatus] = useState(false);\r\n    const [loggedInUserRole, setLoggedInUserRole] = useState(\"2\");\r\n\r\n\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            username: '',\r\n            password: ''\r\n        },\r\n        onSubmit: (values) => {\r\n            createUser(values);\r\n        },\r\n        validationSchema: userValidationSchema\r\n    });\r\n\r\n    function setMsg(val){\r\n        setMessage(val);\r\n        const notiAudio = new Audio(notiSound);\r\n        notiAudio.play();\r\n    }\r\n\r\n    const createUser = async (data) => {\r\n\r\n        let currentUser = getCurrentUser();\r\n\r\n        const payLoad = {\r\n            \"user_name\": data.username,\r\n            \"password\": data.password,\r\n            \"role\": role,\r\n            \"parent_id\":currentUser.data.id\r\n        };\r\n\r\n        let token = currentUser.token;\r\n\r\n        const config = { headers: { Authorization: `Bearer ${token}` } };\r\n        let error;\r\n        let response;\r\n\r\n        try {\r\n            response = await axios.post(`${process.env.REACT_APP_API_HOST}/users`, payLoad, config)\r\n                .catch((err) => {\r\n                    throw err;\r\n                });\r\n        }\r\n        catch (err) {\r\n            error = err;\r\n        }\r\n\r\n        if (!error) {\r\n            if (response.data.success > 0) {\r\n                setReqStatus(true);\r\n\r\n            }\r\n            else {\r\n                setReqStatus(false);\r\n                \r\n            }\r\n            setMsg(response.data.message);\r\n            formik.resetForm();\r\n        }\r\n        else {\r\n            setReqStatus(false);\r\n            setMsg(error.message);\r\n        }\r\n    }\r\n    return (\r\n\r\n        loggedIn ?\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <Stack spacing={2} direction=\"column\">\r\n                    <Typography variant=\"h5\" align=\"center\">\r\n                        Create Account\r\n                    </Typography>\r\n\r\n                    <TextField label=\"user name\" variant=\"outlined\" name=\"username\"\r\n                        value={formik.values.username}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.username && Boolean(formik.errors.username)}\r\n                        helperText={formik.touched.username && formik.errors.username}\r\n                        onBlur={formik.handleBlur} autoComplete=\"off\">\r\n                    </TextField>\r\n\r\n                    <TextField label=\"password\" type=\"password\" variant=\"outlined\" name=\"password\"\r\n                        value={formik.values.password}\r\n                        onChange={formik.handleChange}\r\n                        error={formik.touched.password && Boolean(formik.errors.password)}\r\n                        helperText={formik.touched.password && formik.errors.password}\r\n                        onBlur={formik.handleBlur}></TextField>\r\n\r\n\r\n                    {\r\n                        getCurrentUser().data.role === 0 && //If Super Admin\r\n                        <FormControl component=\"fieldset\">\r\n                            <FormLabel component=\"legend\">Role</FormLabel>\r\n                            <RadioGroup\r\n                                aria-label=\"gender\"\r\n                                name=\"controlled-radio-buttons-group\"\r\n                                value={role}\r\n                                onChange={(e) => { setRole(e.target.value) }}\r\n                            >\r\n                                <FormControlLabel value=\"1\" control={<Radio />} label=\"Admin\" />\r\n                                <FormControlLabel value=\"2\" control={<Radio />} label=\"User\" />\r\n                            </RadioGroup>\r\n                        </FormControl>\r\n                    }\r\n\r\n\r\n                    {msg != \"\" && <Alert severity={`${reqStatus ? \"success\" : \"error\"}`}>{msg}</Alert>}\r\n                    <br />\r\n                    <Button type=\"submit\" variant=\"contained\" color=\"primary\">Create Account</Button>\r\n\r\n                </Stack>\r\n            </form>\r\n            : <Redirect to=\"/\" />\r\n\r\n    );\r\n}\r\n\r\n\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Modal from '@mui/material/Modal';\r\nimport Stack from '@mui/material/Stack';\r\nimport TextField from '@mui/material/TextField';\r\nimport Box from '@mui/material/Box';\r\nimport axios from 'axios'\r\nimport { useAuth } from \"../../context/auth-context\";\r\n\r\n\r\nconst style = {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    width: 400,\r\n    bgcolor: 'background.paper',\r\n    border: '2px solid #000',\r\n    boxShadow: 24,\r\n    p: 4,\r\n};\r\n\r\n\r\nexport default function Popup({ onSubmit }) {\r\n    const { loggedIn, getCurrentUser } = useAuth();\r\n\r\n    const [txtNote, setTxtNote] = useState(\"\");\r\n    const [open, setOpen] = React.useState(false);\r\n    const handleOpen = () => setOpen(true);\r\n    const handleClose = () => setOpen(false);\r\n\r\n    function handleTxtNoteChange(val) {\r\n        setTxtNote(val.target.value);\r\n    }\r\n\r\n    /*\r\n    async function submit(val) {\r\n\r\n        let currentUser = getCurrentUser();\r\n        const data = {\r\n            userId: currentUser.data.id,\r\n            status: val,\r\n            note: txtNote\r\n        }\r\n        let token = currentUser.token;\r\n        const config = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n        await axios.post(\"http://localhost:3000/api/users/workout\", data, config)\r\n            .then((response) => {\r\n                if (response.data.success > 0) {\r\n                    reqStatusUpdater(true);\r\n                }\r\n                else {\r\n                    reqStatusUpdater(false);\r\n\r\n                }\r\n                msgUpdater(response.data.message);\r\n\r\n            }).catch((err) => {\r\n                reqStatusUpdater(false);\r\n                //let errMsg = ;\r\n                msgUpdater(err.message.toString());\r\n            });\r\n\r\n        handleClose(false);\r\n    }*/\r\n\r\n    return (\r\n        <>\r\n            <Box\r\n                component=\"form\"\r\n                sx={{\r\n                    '& .MuiTextField-root': { m: 1, width: '25ch' },\r\n                }}\r\n                noValidate\r\n                autoComplete=\"off\">\r\n\r\n            </Box>\r\n            <Button onClick={handleOpen}>Rest Day</Button>\r\n\r\n            <Modal open={open} onClose={handleClose} aria-labelledby=\"modal-modal-title\"\r\n                aria-describedby=\"modal-modal-description\">\r\n                <Box sx={style}>\r\n                    <Stack direction=\"column\" spacing={2}>\r\n                        <Typography variant=\"h5\" gutterBottom component=\"div\">\r\n                            Write something\r\n                        </Typography>\r\n                        <TextField\r\n                            id=\"outlined-multiline-static\"\r\n                            label=\"Notes\"\r\n                            multiline\r\n                            rows={4}\r\n                            onChange={handleTxtNoteChange} />\r\n                        <Stack spacing={2} direction=\"row\">\r\n                            <Button align=\"left\" variant=\"contained\" className=\"submit\" onClick={() => { onSubmit(1,txtNote); handleClose(false); }}>Post</Button>\r\n                            <Button align=\"right\" variant=\"contained\" className=\"cancel\" onClick={() => handleClose(false)}>Cancel</Button>\r\n\r\n                        </Stack>\r\n                    </Stack>\r\n\r\n                </Box>\r\n            </Modal>\r\n        </>\r\n\r\n    )\r\n\r\n}\r\n","\r\nimport * as React from 'react';\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { Button, IconButton } from '@mui/material';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\n\r\nexport default function DataTableActionMenu({ userId, activeStatus, onSuspend }) {\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleSuspend = (id, activeStatus) => {\r\n\r\n    onSuspend(id,activeStatus);\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  const handleRemove = (id) => {\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        id=\"basic-button\"\r\n        aria-controls=\"basic-menu\"\r\n        aria-haspopup=\"true\"\r\n        aria-expanded={open ? 'true' : undefined}\r\n        onClick={handleClick}\r\n      >\r\n        <MoreVertIcon></MoreVertIcon>\r\n      </IconButton>\r\n      <Menu\r\n        id=\"basic-menu\"\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        MenuListProps={{\r\n          'aria-labelledby': 'basic-button',\r\n        }}\r\n      >\r\n        <MenuItem onClick={() => { handleSuspend(userId, activeStatus) }}>\r\n          {activeStatus != 2 ? 'Suspend' : 'Unsuspend'}</MenuItem>\r\n        <MenuItem onClick={() => { handleRemove(userId) }}>Remove User</MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport moment from \"moment\";\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport Dialog from \"./Dialog\";\r\nimport { IconButton, Link, Stack, Tooltip } from \"@mui/material\";\r\nimport { red, green, blue, grey, orange, yellow } from '@mui/material/colors';\r\nimport MessageOutlined from '@mui/icons-material/MessageOutlined';\r\nimport Badge from '@mui/material/Badge';\r\nimport InfoSharp from '@mui/icons-material/InfoSharp';\r\nimport DataTableActionMenu from \"./DataTableActionMenu\";\r\nimport { useAuth } from \"../../context/auth-context\";\r\n\r\nexport default function DataTable({ results, onSuspend, loginUserRole }) {\r\n\r\n  const [showAlert, setShowAlert] = useState(false);\r\n  const {getCurrentUser} = useAuth();\r\n\r\n  function handleShowAlert(s) {\r\n    setShowAlert(s);\r\n  }\r\n\r\n  function handleSeeMoreClick(val) {\r\n    return alert(val);\r\n  }\r\n\r\n  function getRecDate(recDateTime) {\r\n    const moment = require('moment');\r\n    let date = moment().toDate();\r\n    let currentDate = moment(date).format('DD/MM/YYYY');\r\n    let recDate = moment(recDateTime).format('DD/MM/YYYY');\r\n\r\n\r\n    if (currentDate === recDate) {\r\n      return \"Today\"\r\n    }\r\n    else if (date.getMonth() == new Date(recDateTime).getMonth() &&\r\n      date.getFullYear() == new Date(recDateTime).getFullYear()\r\n    ) {\r\n      if ((date.getDate() - new Date(recDateTime).getDate()) == 1) {\r\n        return \"Yesterday\"\r\n      }\r\n      else {\r\n        return `${date.getDate() - new Date(recDateTime).getDate()} days ago`;\r\n      }\r\n    }\r\n    else if (date.getMonth() != new Date(recDateTime).getMonth() &&\r\n      date.getFullYear() == new Date(recDateTime).getFullYear()) {\r\n      if ((date.getMonth() - new Date(recDateTime).getMonth()) == 1) {\r\n        return `1 month ago`;\r\n      }\r\n      else {\r\n        return `${date.getMonth() - new Date(recDateTime).getMonth()} months ago`;\r\n      }\r\n    }\r\n    else {\r\n      return `${date.getFullYear() - new Date(recDateTime).getFullYear()} Year(s) ago`;\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {results && (\r\n        <TableContainer component={Paper} >\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Name</TableCell>\r\n                <TableCell align=\"center\">Active</TableCell>\r\n                <TableCell align=\"center\"></TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {results.map((obj, index) => (\r\n                <TableRow\r\n                  key={obj.UserId}\r\n                  sx={{ '&:last-child td, &:last-child th': { border: 0 }, bgcolor: obj.Status > 0 ? red[100] : grey[10] }}>\r\n                  <TableCell component=\"th\" scope=\"row\">\r\n                    <Stack direction=\"row\">\r\n                      {obj.UserName}\r\n                      {obj.Active == 2 &&\r\n                        <Tooltip title=\"User Suspended\">\r\n                          <InfoSharp style={{ color: orange[800] }} />\r\n                        </Tooltip>\r\n                      }\r\n\r\n                    </Stack>\r\n\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{getRecDate(obj.RecDate)} {moment(obj.RecDate).format('hh:mm a')}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Stack direction=\"row\"\r\n                      justifyContent=\"flex-end\"\r\n                      alignItems=\"flex-end\">\r\n\r\n                      {obj.Status > 0 &&\r\n                        <IconButton onClick={() => handleSeeMoreClick(obj.Note)}>\r\n                          <Badge badgeContent={1} color=\"secondary\">\r\n                            <MessageOutlined sx={{ color: grey[600] }} />\r\n                          </Badge>\r\n                        </IconButton>}\r\n\r\n                      { (loginUserRole !== 2 && getCurrentUser().data.id !== obj.UserId) &&\r\n                        <DataTableActionMenu userId={obj.UserId}\r\n                          activeStatus={obj.Active} onSuspend={onSuspend}>\r\n                        </DataTableActionMenu>\r\n                      }\r\n\r\n                    </Stack>\r\n                  </TableCell>\r\n\r\n                </TableRow>\r\n\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","\r\nimport React, { useEffect, useState, useContext } from 'react'\r\nimport Popup from \"./Popup\";\r\nimport DataTable from \"./DataTable\";\r\n\r\nimport { Button, Alert, Stack } from '@mui/material';\r\nimport axios from \"axios\";\r\nimport { useAuth } from '../../context/auth-context';\r\nimport { Redirect } from 'react-router';\r\nimport notiSound from '../../sounds/notification-sound.wav';\r\n\r\nexport default function Dashboard() {\r\n\r\n    const { loggedIn, getCurrentUser } = useAuth();\r\n    const [dataList, setDataList] = useState(null);\r\n    const [openModal, setOpenModal] = useState(false);\r\n    const [msg, setMessage] = useState(\"\");\r\n    const [reqStatus, setReqStatus] = useState(false);\r\n    \r\n\r\n    useEffect(() => {\r\n        if(loggedIn){\r\n            getData();\r\n        }\r\n    }, [])\r\n\r\n    \r\n    function setMsg(val){\r\n        setMessage(val);\r\n        const notiAudio = new Audio(notiSound);\r\n        notiAudio.play();\r\n    }\r\n\r\n    async function getData() {\r\n        \r\n        let currentUser = getCurrentUser();\r\n        \r\n        const data = {\r\n            userId: currentUser.data.id,\r\n            role: currentUser.data.role\r\n            \r\n        }\r\n        let token = currentUser.token;\r\n        const config = { \r\n            headers: { Authorization: `Bearer ${token}` },\r\n            params: data \r\n        };\r\n\r\n        await axios.get(`${process.env.REACT_APP_API_HOST}/users/workout`, config)\r\n            .then((response) => {\r\n                if (response.data.success > 0) {\r\n                    setDataList(response.data.rows);\r\n                }\r\n                else {\r\n                    setReqStatus(false);\r\n                    setMsg(response.data.message);\r\n                }\r\n                \r\n\r\n            }).catch((err) => {\r\n                setReqStatus(false);\r\n                //let errMsg = ;\r\n                setMsg(err.message.toString());\r\n            });\r\n\r\n    }\r\n\r\n    /*\r\n    Suspend or Unsuspend User\r\n    ***/\r\n    async function suspend(id,activeStatus){\r\n        \r\n        let currentUser = getCurrentUser();\r\n\r\n        const data = {\r\n            id: id,\r\n            active: activeStatus\r\n        };\r\n\r\n        let token = currentUser.token;\r\n        const config = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n        await axios.patch(`${process.env.REACT_APP_API_HOST}/users/suspend`, data, config)\r\n            .then((response) => {\r\n                if (response.data.success > 0) {\r\n                    setReqStatus(true);\r\n                }\r\n                else {\r\n                    setReqStatus(false);\r\n\r\n                }\r\n                setMsg(response.data.message);\r\n                getData();\r\n            }).catch((err) => {\r\n                setReqStatus(false);\r\n                //let errMsg = ;\r\n                setMsg(err.message.toString());\r\n            });\r\n    }\r\n\r\n\r\n    async function submit(status,note) {\r\n\r\n        let currentUser = getCurrentUser();\r\n\r\n        const data = status == 0?{\r\n            userId: currentUser.data.id,\r\n            status: status\r\n        }: {\r\n            userId: currentUser.data.id,\r\n            status: status, \r\n            note: note\r\n        };\r\n\r\n        let token = currentUser.token;\r\n        const config = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n        await axios.post(`${process.env.REACT_APP_API_HOST}/users/workout`, data, config)\r\n            .then((response) => {\r\n                if (response.data.success > 0) {\r\n                    setReqStatus(true);\r\n                }\r\n                else {\r\n                    setReqStatus(false);\r\n\r\n                }\r\n                setMsg(response.data.message);\r\n                getData();\r\n            }).catch((err) => {\r\n                setReqStatus(false);\r\n                //let errMsg = ;\r\n                setMsg(err.message.toString());\r\n            });\r\n\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        loggedIn ?\r\n            <div>\r\n                {msg != \"\" && <Alert severity={`${reqStatus ? \"success\" : \"error\"}`}>{msg}</Alert>}\r\n                <br />\r\n                <Stack spacing={2} direction=\"row\">\r\n                    <Button variant=\"contained\" onClick={() => { submit(0) }}>Register</Button>\r\n                    <button><Popup variant=\"outlined\" onSubmit={submit}></Popup></button>\r\n                </Stack>\r\n                <br />\r\n                {openModal && <Popup closeModal={setOpenModal} />}\r\n                {dataList ? <DataTable results={dataList} onSuspend={suspend} loginUserRole={getCurrentUser().data.role}/> : null}\r\n\r\n            </div> : <Redirect to=\"/\" />\r\n\r\n\r\n    )\r\n\r\n}","import React from \"react\";\r\nimport { v1 as uuid } from \"uuid\";\r\n\r\nconst CreateRoom = (props) => {\r\n    function create() {\r\n        const id = uuid();\r\n        window.open(`/room/${id}`);\r\n        \r\n    }\r\n\r\n    return (\r\n        <button onClick={create}>Create room</button>\r\n    );\r\n};\r\n\r\nexport default CreateRoom;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n    padding: 20px;\r\n    display: flex;\r\n    height: 100vh;\r\n    width: 90%;\r\n    margin: auto;\r\n    flex-wrap: wrap;\r\n`;\r\n\r\nconst StyledVideo = styled.video`\r\n    height: 40%;\r\n    width: 50%;\r\n`;\r\n\r\nconst Video = (props) => {\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        props.peer.on(\"stream\", stream => {\r\n            ref.current.srcObject = stream;\r\n        })\r\n    }, []);\r\n\r\n    return (\r\n        <StyledVideo playsInline autoPlay ref={ref} />\r\n    );\r\n}\r\n\r\n\r\nconst videoConstraints = {\r\n    height: window.innerHeight / 2,\r\n    width: window.innerWidth / 2\r\n};\r\n\r\nconst Room = (props) => {\r\n    const [peers, setPeers] = useState([]);\r\n    const socketRef = useRef();\r\n    const userVideo = useRef();\r\n    const peersRef = useRef([]);\r\n    const roomID = props.match.params.roomID;\r\n\r\n    useEffect(() => {\r\n        socketRef.current = io.connect(`${process.env.REACT_APP_SOCKET_IO_PATH}`);\r\n        navigator.mediaDevices.getUserMedia({ video: videoConstraints, audio: true }).then(stream => {\r\n            userVideo.current.srcObject = stream;\r\n            socketRef.current.emit(\"join room\", roomID);\r\n            socketRef.current.on(\"all users\", users => {\r\n                const peers = [];\r\n                users.forEach(userID => {\r\n                    const peer = createPeer(userID, socketRef.current.id, stream);\r\n                    peersRef.current.push({\r\n                        peerID: userID,\r\n                        peer,\r\n                    })\r\n                    peers.push({\r\n                        peerID: userID,\r\n                        peer\r\n                    });\r\n                })\r\n                setPeers(peers);\r\n            })\r\n\r\n            socketRef.current.on(\"user joined\", payload => {\r\n                const peer = addPeer(payload.signal, payload.callerID, stream);\r\n                peersRef.current.push({\r\n                    peerID: payload.callerID,\r\n                    peer,\r\n                })\r\n                const peerObj = {\r\n                    peer,\r\n                    peerID: payload.callerID\r\n                }\r\n                setPeers(users => [...users, peerObj]);\r\n            });\r\n\r\n            socketRef.current.on(\"receiving returned signal\", payload => {\r\n                const item = peersRef.current.find(p => p.peerID === payload.id);\r\n                item.peer.signal(payload.signal);\r\n            });\r\n\r\n            socketRef.current.on(\"user left\", id => {\r\n                const peerObj = peersRef.current.find(p => p.peerID == id);\r\n                if (peerObj) {\r\n                    peerObj.peer.destory();\r\n\r\n                }\r\n\r\n                const peers = peersRef.current.filter(p => p.peerID !== id);\r\n                peersRef.current = peers;\r\n                setPeers(peers);\r\n\r\n            })\r\n        })\r\n    }, []);\r\n\r\n    function createPeer(userToSignal, callerID, stream) {\r\n        const peer = new Peer({\r\n            initiator: true,\r\n            trickle: false,\r\n            stream,\r\n        });\r\n\r\n        peer.on(\"signal\", signal => {\r\n            socketRef.current.emit(\"sending signal\", { userToSignal, callerID, signal })\r\n        })\r\n\r\n        return peer;\r\n    }\r\n\r\n    function addPeer(incomingSignal, callerID, stream) {\r\n        const peer = new Peer({\r\n            initiator: false,\r\n            trickle: false,\r\n            stream,\r\n        })\r\n\r\n        peer.on(\"signal\", signal => {\r\n            socketRef.current.emit(\"returning signal\", { signal, callerID })\r\n        })\r\n\r\n        peer.signal(incomingSignal);\r\n\r\n        return peer;\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={(e) => { if (window.confirm('Are you sure to end Video Chat?')) window.close() }}>\r\n                End call\r\n            </button>\r\n            <Container>\r\n                <StyledVideo muted ref={userVideo} autoPlay playsInline />\r\n                {peers.map((peer) => {\r\n                    return (\r\n                        <Video key={peer.peerID} peer={peer.peer} />\r\n                    );\r\n                })}\r\n\r\n            </Container>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Room;\r\n","import './App.css';\nimport React from 'react';\nimport { BrowserRouter as Router, Route, Switch, Link, HashRouter, BrowserRouter } from \"react-router-dom\";\nimport { useAuth } from './context/auth-context';\nimport Login from './components/login/login';\nimport NavBar from './components/layout/AppBar'\nimport Layout from './components/layout/Layout'\nimport CreateUser from './components/create-user/CreateUser';\nimport Dashboard from './components/dashboard/dashboard';\nimport CreateRoom from './components/video-chat/CreateRoom';\nimport Room from './components/video-chat/Room';\n\n\nfunction App() {\n  const { loggedIn, getCurrentUser } = useAuth();\n  return (\n\n    <Layout>\n      {loggedIn && <NavBar />}\n      <Route exact path=\"/\" component={Login}></Route>\n      <Route exact path=\"/dashboard\" component={Dashboard}></Route>\n      <Route exact path=\"/create\" component={CreateUser}></Route>\n      <Route exact path=\"/chat\" component={CreateRoom}></Route>\n      <Route exact path=\"/room/:roomID\" component={Room} />\n      </Layout>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { AuthProvider } from './context/auth-context';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <AuthProvider>\n        <App />\n      </AuthProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}